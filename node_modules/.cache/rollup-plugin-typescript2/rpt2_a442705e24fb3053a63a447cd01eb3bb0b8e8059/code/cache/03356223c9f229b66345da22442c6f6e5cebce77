{"code":"//@ts-expect-error\r\nimport _Big from 'big.js';\r\n//@ts-expect-error\r\nimport toFormat from 'toformat';\r\nimport { Fraction } from './Fraction';\r\nimport JSBI from 'jsbi';\r\nimport { MaxUint256 } from '../constants/internalConstants';\r\nimport { Rounding } from '../enums/rounding';\r\nimport invariant from 'tiny-invariant';\r\nconst Big = toFormat(_Big);\r\nexport class CurrencyAmount extends Fraction {\r\n    constructor(currency, numerator, denominator) {\r\n        super(numerator, denominator);\r\n        invariant(JSBI.lessThanOrEqual(this.quotient, MaxUint256), 'AMOUNT');\r\n        this.currency = currency;\r\n        this.decimalScale = JSBI.exponentiate(JSBI.BigInt(10), JSBI.BigInt(currency.decimals));\r\n    }\r\n    /**\r\n     * Returns a new currency amount instance from the unitless amount of token, i.e. the raw amount\r\n     * @param currency the currency in the amount\r\n     * @param rawAmount the raw token or ether amount\r\n     */\r\n    static fromRawAmount(currency, rawAmount) {\r\n        return new CurrencyAmount(currency, rawAmount);\r\n    }\r\n    /**\r\n     * Construct a currency amount with a denominator that is not equal to 1\r\n     * @param currency the currency\r\n     * @param numerator the numerator of the fractional token amount\r\n     * @param denominator the denominator of the fractional token amount\r\n     */\r\n    static fromFractionalAmount(currency, numerator, denominator) {\r\n        return new CurrencyAmount(currency, numerator, denominator);\r\n    }\r\n    add(other) {\r\n        invariant(this.currency.equals(other.currency), 'CURRENCY');\r\n        const added = super.add(other);\r\n        return CurrencyAmount.fromFractionalAmount(this.currency, added.numerator, added.denominator);\r\n    }\r\n    subtract(other) {\r\n        invariant(this.currency.equals(other.currency), 'CURRENCY');\r\n        const subtracted = super.subtract(other);\r\n        return CurrencyAmount.fromFractionalAmount(this.currency, subtracted.numerator, subtracted.denominator);\r\n    }\r\n    multiply(other) {\r\n        const multiplied = super.multiply(other);\r\n        return CurrencyAmount.fromFractionalAmount(this.currency, multiplied.numerator, multiplied.denominator);\r\n    }\r\n    divide(other) {\r\n        const divided = super.divide(other);\r\n        return CurrencyAmount.fromFractionalAmount(this.currency, divided.numerator, divided.denominator);\r\n    }\r\n    toSignificant(significantDigits = 6, format, rounding = Rounding.ROUND_DOWN) {\r\n        return super\r\n            .divide(this.decimalScale)\r\n            .toSignificant(significantDigits, format, rounding);\r\n    }\r\n    toFixed(decimalPlaces = this.currency.decimals, format, rounding = Rounding.ROUND_DOWN) {\r\n        invariant(decimalPlaces <= this.currency.decimals, 'DECIMALS');\r\n        return super\r\n            .divide(this.decimalScale)\r\n            .toFixed(decimalPlaces, format, rounding);\r\n    }\r\n    toExact(format = { groupSeparator: '' }) {\r\n        Big.DP = this.currency.decimals;\r\n        return new Big(this.quotient.toString())\r\n            .div(this.decimalScale.toString())\r\n            .toFormat(format);\r\n    }\r\n    get wrapped() {\r\n        if (this.currency.isToken)\r\n            return this;\r\n        return CurrencyAmount.fromFractionalAmount(this.currency.wrapped, this.numerator, this.denominator);\r\n    }\r\n}\r\n//# sourceMappingURL=CurrencyAmount.js.map","references":["D:/personal_programming_work/integral-sdk-hpot/node_modules/big.js/big.js","D:/personal_programming_work/integral-sdk-hpot/node_modules/toformat/toFormat.js","D:/personal_programming_work/integral-sdk-hpot/src/types/BigIntish.ts","D:/personal_programming_work/integral-sdk-hpot/src/entities/Currency.ts","D:/personal_programming_work/integral-sdk-hpot/src/entities/Fraction.ts","D:/personal_programming_work/integral-sdk-hpot/node_modules/jsbi/jsbi.d.ts","D:/personal_programming_work/integral-sdk-hpot/src/constants/internalConstants.ts","D:/personal_programming_work/integral-sdk-hpot/src/enums/rounding.ts","D:/personal_programming_work/integral-sdk-hpot/src/entities/Token.ts","D:/personal_programming_work/integral-sdk-hpot/node_modules/tiny-invariant/dist/tiny-invariant.d.ts"],"map":"{\"version\":3,\"file\":\"CurrencyAmount.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/entities/CurrencyAmount.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"D:/personal_programming_work/integral-sdk-hpot/entities/CurrencyAmount.d.ts","writeByteOrderMark":false,"text":"import { BigintIsh } from \"../types/BigIntish\";\r\nimport { Currency } from './Currency';\r\nimport { Fraction } from './Fraction';\r\nimport JSBI from 'jsbi';\r\nimport { Rounding } from '../enums/rounding';\r\nimport { Token } from './Token';\r\nexport declare class CurrencyAmount<T extends Currency> extends Fraction {\r\n    readonly currency: T;\r\n    readonly decimalScale: JSBI;\r\n    /**\r\n     * Returns a new currency amount instance from the unitless amount of token, i.e. the raw amount\r\n     * @param currency the currency in the amount\r\n     * @param rawAmount the raw token or ether amount\r\n     */\r\n    static fromRawAmount<T extends Currency>(currency: T, rawAmount: BigintIsh): CurrencyAmount<T>;\r\n    /**\r\n     * Construct a currency amount with a denominator that is not equal to 1\r\n     * @param currency the currency\r\n     * @param numerator the numerator of the fractional token amount\r\n     * @param denominator the denominator of the fractional token amount\r\n     */\r\n    static fromFractionalAmount<T extends Currency>(currency: T, numerator: BigintIsh, denominator: BigintIsh): CurrencyAmount<T>;\r\n    protected constructor(currency: T, numerator: BigintIsh, denominator?: BigintIsh);\r\n    add(other: CurrencyAmount<T>): CurrencyAmount<T>;\r\n    subtract(other: CurrencyAmount<T>): CurrencyAmount<T>;\r\n    multiply(other: Fraction | BigintIsh): CurrencyAmount<T>;\r\n    divide(other: Fraction | BigintIsh): CurrencyAmount<T>;\r\n    toSignificant(significantDigits?: number, format?: object, rounding?: Rounding): string;\r\n    toFixed(decimalPlaces?: number, format?: object, rounding?: Rounding): string;\r\n    toExact(format?: object): string;\r\n    get wrapped(): CurrencyAmount<Token>;\r\n}\r\n"}}
