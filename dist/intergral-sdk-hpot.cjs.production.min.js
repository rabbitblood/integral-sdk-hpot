"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("jsbi")),n=t(require("tiny-invariant")),r=require("@ethersproject/abi"),i=require("@ethersproject/address"),a=require("@ethersproject/solidity"),o=require("@ethersproject/keccak256"),u=require("@ethersproject/bytes"),s=require("@ethersproject/strings"),p=t(require("big.js")),c=t(require("toformat")),l=t(require("decimal.js-light")),d=require("@ethersproject/units");function y(){y=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function p(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{p({},"")}catch(t){p=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var a=Object.create((e&&e.prototype instanceof T?e:T).prototype),o=new N(r||[]);return i(a,"_invoke",{value:q(t,n,o)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var d="suspendedStart",m="executing",f="completed",h={};function T(){}function v(){}function g(){}var k={};p(k,o,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(S([])));x&&x!==n&&r.call(x,o)&&(k=x);var A=g.prototype=T.prototype=Object.create(k);function w(t){["next","throw","return"].forEach((function(e){p(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function n(i,a,o,u){var s=l(t[i],t,a);if("throw"!==s.type){var p=s.arg,c=p.value;return c&&"object"==typeof c&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,o,u)}),(function(t){n("throw",t,o,u)})):e.resolve(c).then((function(t){p.value=t,o(p)}),(function(t){return n("throw",t,o,u)}))}u(s.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function q(e,n,r){var i=d;return function(a,o){if(i===m)throw new Error("Generator is already running");if(i===f){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var u=r.delegate;if(u){var s=R(u,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var p=l(e,n,r);if("normal"===p.type){if(i=r.done?f:"suspendedYield",p.arg===h)continue;return{value:p.arg,done:r.done}}"throw"===p.type&&(i=f,r.method="throw",r.arg=p.arg)}}}function R(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,R(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function S(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return v.prototype=g,i(A,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:v,configurable:!0}),v.displayName=p(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,p(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},w(I.prototype),p(I.prototype,u,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},w(A),p(A,s,"Generator"),p(A,o,(function(){return this})),p(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=S,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),p=r.call(o,"finallyLoc");if(s&&p){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!p)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:S(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}function m(t,e,n,r,i,a,o){try{var u=t[a](o),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){m(a,r,i,o,u,"next",t)}function u(t){m(a,r,i,o,u,"throw",t)}o(void 0)}))}}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,"symbol"==typeof(i=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key))?i:String(i),r)}var i}function T(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v(){return(v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function g(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,b(t,e)}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function A(t,e,n){return(A=x()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&b(i,n.prototype),i}).apply(null,arguments)}function w(t){var e="function"==typeof Map?new Map:void 0;return(w=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return A(t,arguments,k(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),b(n,t)})(t)}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return I(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var R,P,O=e.BigInt(-1),N=e.BigInt(0),S=e.BigInt(1),_=e.exponentiate(e.BigInt(2),e.BigInt(96)),E=e.exponentiate(_,e.BigInt(2)),M=e.BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),C={Holesky:17e3,BerachainTestnet:80084},F="0x0000000000000000000000000000000000000000",B=((R={})[C.Holesky]="0x4777378A908A90862AdDedabF9388958Cbd020f1",R[C.BerachainTestnet]="0x805488DaA81c1b9e7C5cE3f1DCeA28F21448EC6A",R),D=((P={})[C.Holesky]="0x4b9e4a8044ce5695e06fce9421a63b6f5c3db8a561eebb30ea4c775469e36eaf",P[C.BerachainTestnet]="0x3093a65c28d1e6def42997fdea76d033dfd42b432c107e19412cf91a1eac0f91",P);function U(t){var e=t.tokenA,n=t.tokenB,o=t.initCodeHashManualOverride,u=t.poolDeployer,s=e.sortsBefore(n)?[e,n]:[n,e];return i.getCreate2Address(null!=u?u:B[e.chainId],a.keccak256(["bytes"],[r.defaultAbiCoder.encode(["address","address"],[s[0].address,s[1].address])]),null!=o?o:D[e.chainId])}var L=function(){function t(){}return t.addDelta=function(t,n){return e.lessThan(n,N)?e.subtract(t,e.multiply(n,O)):e.add(t,n)},t}(),X=function(){function t(){}return t.mulDivRoundingUp=function(t,n,r){var i=e.multiply(t,n),a=e.divide(i,r);return e.notEqual(e.remainder(i,r),N)&&(a=e.add(a,S)),a},t}(),j=e.subtract(e.exponentiate(e.BigInt(2),e.BigInt(160)),S);function W(t,n){var r=e.multiply(t,n);return e.bitwiseAnd(r,M)}var H=function(){function t(){}return t.getAmount0Delta=function(t,n,r,i){if(e.greaterThan(t,n)){var a=[n,t];t=a[0],n=a[1]}var o=e.leftShift(r,e.BigInt(96)),u=e.subtract(n,t);return i?X.mulDivRoundingUp(X.mulDivRoundingUp(o,u,n),S,t):e.divide(e.divide(e.multiply(o,u),n),t)},t.getAmount1Delta=function(t,n,r,i){if(e.greaterThan(t,n)){var a=[n,t];t=a[0],n=a[1]}return i?X.mulDivRoundingUp(r,e.subtract(n,t),_):e.divide(e.multiply(r,e.subtract(n,t)),_)},t.getNextSqrtPriceFromInput=function(t,r,i,a){return e.greaterThan(t,N)||n(!1),e.greaterThan(r,N)||n(!1),a?this.getNextSqrtPriceFromAmount0RoundingUp(t,r,i,!0):this.getNextSqrtPriceFromAmount1RoundingDown(t,r,i,!0)},t.getNextSqrtPriceFromOutput=function(t,r,i,a){return e.greaterThan(t,N)||n(!1),e.greaterThan(r,N)||n(!1),a?this.getNextSqrtPriceFromAmount1RoundingDown(t,r,i,!1):this.getNextSqrtPriceFromAmount0RoundingUp(t,r,i,!1)},t.getNextSqrtPriceFromAmount0RoundingUp=function(t,r,i,a){if(e.equal(i,N))return t;var o=e.leftShift(r,e.BigInt(96));if(a){var u=W(i,t);if(e.equal(e.divide(u,i),t)){var s=(c=e.add(o,u),e.bitwiseAnd(c,M));if(e.greaterThanOrEqual(s,o))return X.mulDivRoundingUp(o,t,s)}return X.mulDivRoundingUp(o,S,e.add(e.divide(o,t),i))}var p=W(i,t);e.equal(e.divide(p,i),t)||n(!1),e.greaterThan(o,p)||n(!1);var c,l=e.subtract(o,p);return X.mulDivRoundingUp(o,t,l)},t.getNextSqrtPriceFromAmount1RoundingDown=function(t,r,i,a){if(a){var o=e.lessThanOrEqual(i,j)?e.divide(e.leftShift(i,e.BigInt(96)),r):e.divide(e.multiply(i,_),r);return e.add(t,o)}var u=X.mulDivRoundingUp(i,_,r);return e.greaterThan(t,u)||n(!1),e.subtract(t,u)},t}(),G=e.exponentiate(e.BigInt(10),e.BigInt(6)),K=function(){function t(){}return t.computeSwapStep=function(t,n,r,i,a){var o={},u=e.greaterThanOrEqual(t,n),s=e.greaterThanOrEqual(i,N);if(s){var p=e.divide(e.multiply(i,e.subtract(G,e.BigInt(a))),G);o.amountIn=u?H.getAmount0Delta(n,t,r,!0):H.getAmount1Delta(t,n,r,!0),o.sqrtRatioNextX96=e.greaterThanOrEqual(p,o.amountIn)?n:H.getNextSqrtPriceFromInput(t,r,p,u)}else o.amountOut=u?H.getAmount1Delta(n,t,r,!1):H.getAmount0Delta(t,n,r,!1),o.sqrtRatioNextX96=e.greaterThanOrEqual(e.multiply(i,O),o.amountOut)?n:H.getNextSqrtPriceFromOutput(t,r,e.multiply(i,O),u);var c=e.equal(n,o.sqrtRatioNextX96);return u?(o.amountIn=c&&s?o.amountIn:H.getAmount0Delta(o.sqrtRatioNextX96,t,r,!0),o.amountOut=c&&!s?o.amountOut:H.getAmount1Delta(o.sqrtRatioNextX96,t,r,!1)):(o.amountIn=c&&s?o.amountIn:H.getAmount1Delta(t,o.sqrtRatioNextX96,r,!0),o.amountOut=c&&!s?o.amountOut:H.getAmount0Delta(t,o.sqrtRatioNextX96,r,!1)),!s&&e.greaterThan(o.amountOut,e.multiply(i,O))&&(o.amountOut=e.multiply(i,O)),o.feeAmount=s&&e.notEqual(o.sqrtRatioNextX96,n)?e.subtract(i,o.amountIn):X.mulDivRoundingUp(o.amountIn,e.BigInt(a),e.subtract(G,e.BigInt(a))),[o.sqrtRatioNextX96,o.amountIn,o.amountOut,o.feeAmount]},t}(),Q=e.BigInt(2),z=[128,64,32,16,8,4,2,1].map((function(t){return[t,e.exponentiate(Q,e.BigInt(t))]}));function Y(t){e.greaterThan(t,N)||n(!1),e.lessThanOrEqual(t,M)||n(!1);for(var r,i=0,a=q(z);!(r=a()).done;){var o=r.value,u=o[0];e.greaterThanOrEqual(t,o[1])&&(t=e.signedRightShift(t,e.BigInt(u)),i+=u)}return i}function Z(t,n){return e.signedRightShift(e.multiply(t,e.BigInt(n)),e.BigInt(128))}var V=e.exponentiate(e.BigInt(2),e.BigInt(32)),$=function(){function t(){}return t.getSqrtRatioAtTick=function(r){r>=t.MIN_TICK&&r<=t.MAX_TICK&&Number.isInteger(r)||n(!1);var i=r<0?-1*r:r,a=e.BigInt(0!=(1&i)?"0xfffcb933bd6fad37aa2d162d1a594001":"0x100000000000000000000000000000000");return 0!=(2&i)&&(a=Z(a,"0xfff97272373d413259a46990580e213a")),0!=(4&i)&&(a=Z(a,"0xfff2e50f5f656932ef12357cf3c7fdcc")),0!=(8&i)&&(a=Z(a,"0xffe5caca7e10e4e61c3624eaa0941cd0")),0!=(16&i)&&(a=Z(a,"0xffcb9843d60f6159c9db58835c926644")),0!=(32&i)&&(a=Z(a,"0xff973b41fa98c081472e6896dfb254c0")),0!=(64&i)&&(a=Z(a,"0xff2ea16466c96a3843ec78b326b52861")),0!=(128&i)&&(a=Z(a,"0xfe5dee046a99a2a811c461f1969c3053")),0!=(256&i)&&(a=Z(a,"0xfcbe86c7900a88aedcffc83b479aa3a4")),0!=(512&i)&&(a=Z(a,"0xf987a7253ac413176f2b074cf7815e54")),0!=(1024&i)&&(a=Z(a,"0xf3392b0822b70005940c7a398e4b70f3")),0!=(2048&i)&&(a=Z(a,"0xe7159475a2c29b7443b29c7fa6e889d9")),0!=(4096&i)&&(a=Z(a,"0xd097f3bdfd2022b8845ad8f792aa5825")),0!=(8192&i)&&(a=Z(a,"0xa9f746462d870fdf8a65dc1f90e061e5")),0!=(16384&i)&&(a=Z(a,"0x70d869a156d2a1b890bb3df62baf32f7")),0!=(32768&i)&&(a=Z(a,"0x31be135f97d08fd981231505542fcfa6")),0!=(65536&i)&&(a=Z(a,"0x9aa508b5b7a84e1c677de54f3e99bc9")),0!=(131072&i)&&(a=Z(a,"0x5d6af8dedb81196699c329225ee604")),0!=(262144&i)&&(a=Z(a,"0x2216e584f5fa1ea926041bedfe98")),0!=(524288&i)&&(a=Z(a,"0x48a170391f7dc42444e8fa2")),r>0&&(a=e.divide(M,a)),e.greaterThan(e.remainder(a,V),N)?e.add(e.divide(a,V),S):e.divide(a,V)},t.getTickAtSqrtRatio=function(r){e.greaterThanOrEqual(r,t.MIN_SQRT_RATIO)&&e.lessThan(r,t.MAX_SQRT_RATIO)||n(!1);var i,a=e.leftShift(r,e.BigInt(32)),o=Y(a);i=e.greaterThanOrEqual(e.BigInt(o),e.BigInt(128))?e.signedRightShift(a,e.BigInt(o-127)):e.leftShift(a,e.BigInt(127-o));for(var u=e.leftShift(e.subtract(e.BigInt(o),e.BigInt(128)),e.BigInt(64)),s=0;s<14;s++){i=e.signedRightShift(e.multiply(i,i),e.BigInt(127));var p=e.signedRightShift(i,e.BigInt(128));u=e.bitwiseOr(u,e.leftShift(p,e.BigInt(63-s))),i=e.signedRightShift(i,p)}var c=e.multiply(u,e.BigInt("255738958999603826347141")),l=e.toNumber(e.signedRightShift(e.subtract(c,e.BigInt("3402992956809132418596140100660247210")),e.BigInt(128))),d=e.toNumber(e.signedRightShift(e.add(c,e.BigInt("291339464771989622907027621153398088495")),e.BigInt(128)));return l===d?l:e.lessThanOrEqual(t.getSqrtRatioAtTick(d),r)?d:l},t}();$.MIN_TICK=-887272,$.MAX_TICK=-$.MIN_TICK,$.MIN_SQRT_RATIO=e.BigInt("4295128739"),$.MAX_SQRT_RATIO=e.BigInt("1461446703485210103287273052203988822378723970342");var J=function(){function t(){}var e=t.prototype;return e.getTick=function(){var e=f(y().mark((function e(n){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error(t.ERROR_MESSAGE);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.nextInitializedTickWithinOneWord=function(){var e=f(y().mark((function e(n,r,i){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error(t.ERROR_MESSAGE);case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),t}();function tt(t,e){for(var n=0;n<t.length-1;n++)if(e(t[n],t[n+1])>0)return!1;return!0}function et(t,e){return t.index-e.index}J.ERROR_MESSAGE="No tick data provider was given";var nt=function(){function t(){}return t.validateList=function(t,r){r>0||n(!1),t.every((function(t){return t.index%r==0}))||n(!1),e.equal(t.reduce((function(t,n){return e.add(t,n.liquidityNet)}),N),N)||n(!1),tt(t,et)||n(!1)},t.isBelowSmallest=function(t,e){return t.length>0||n(!1),e<t[0].index},t.isAtOrAboveLargest=function(t,e){return t.length>0||n(!1),e>=t[t.length-1].index},t.getTick=function(t,e){var r=t[this.binarySearch(t,e)];return r.index!==e&&n(!1),r},t.nextInitializedTick=function(e,r,i){return i?(t.isBelowSmallest(e,r)&&n(!1),t.isAtOrAboveLargest(e,r)?e[e.length-1]:e[this.binarySearch(e,r)]):(this.isAtOrAboveLargest(e,r)&&n(!1),this.isBelowSmallest(e,r)?e[0]:e[this.binarySearch(e,r)+1])},t.nextInitializedTickWithinOneWord=function(e,n,r,i){var a=Math.floor(n/i);if(r){var o=(a>>8<<8)*i;if(t.isBelowSmallest(e,n))return[o,!1];var u=t.nextInitializedTick(e,n,r).index,s=Math.max(o,u);return[s,s===u]}var p=(1+(a+1>>8)<<8)*i-1;if(this.isAtOrAboveLargest(e,n))return[p,!1];var c=this.nextInitializedTick(e,n,r).index,l=Math.min(p,c);return[l,l===c]},t.binarySearch=function(t,e){this.isBelowSmallest(t,e)&&n(!1);for(var r,i=0,a=t.length-1;;){if(t[r=Math.floor((i+a)/2)].index<=e&&(r===t.length-1||t[r+1].index>e))return r;t[r].index<e?i=r+1:a=r-1}},t}();function rt(t){var n=e.BigInt(t).toString(16);return n.length%2!=0&&(n="0"+n),"0x"+n}function it(t,e){var n=t.pools.reduce((function(t,e,n){var r=t.inputToken,i=t.path,a=t.types,o=e.token0.equals(r)?e.token1:e.token0;return 0===n?{inputToken:o,types:["address","address","address"],path:[r.address,e.deployer,o.address]}:{inputToken:o,types:[].concat(a,["address","address"]),path:[].concat(i,[e.deployer,o.address])}}),{inputToken:t.input.wrapped,path:[],types:[]}),r=n.path,i=n.types;return e?a.pack(i.reverse(),r.reverse()):a.pack(i,r)}var at=e.BigInt(Number.MAX_SAFE_INTEGER),ot=e.BigInt(0),ut=e.BigInt(1),st=e.BigInt(2);function pt(t,r){var i=e.leftShift(e.BigInt(t),e.BigInt(192)),a=e.BigInt(r);return function(t){if(e.greaterThanOrEqual(t,ot)||n(!1),e.lessThan(t,at))return e.BigInt(Math.floor(Math.sqrt(e.toNumber(t))));var r,i;for(r=t,i=e.add(e.divide(t,st),ut);e.lessThan(i,r);)r=i,i=e.divide(e.add(e.divide(t,i),i),st);return r}(e.divide(i,a))}function ct(t,n,r){if(e.greaterThan(t,n)){var i=[n,t];t=i[0],n=i[1]}var a=e.divide(e.multiply(t,n),_);return e.divide(e.multiply(e.BigInt(r),a),e.subtract(n,t))}function lt(t,n,r){if(e.greaterThan(t,n)){var i=[n,t];t=i[0],n=i[1]}var a=e.multiply(e.multiply(e.BigInt(r),t),n),o=e.multiply(_,e.subtract(n,t));return e.divide(a,o)}function dt(t,n,r){if(e.greaterThan(t,n)){var i=[n,t];t=i[0],n=i[1]}return e.divide(e.multiply(e.BigInt(r),_),e.subtract(n,t))}function yt(t,n,r,i,a,o){if(e.greaterThan(n,r)){var u=[r,n];n=u[0],r=u[1]}var s=o?lt:ct;if(e.lessThanOrEqual(t,n))return s(n,r,i);if(e.lessThan(t,r)){var p=s(t,r,i),c=dt(n,t,a);return e.lessThan(p,c)?p:c}return dt(n,r,a)}function mt(t,e){Number.isInteger(t)&&Number.isInteger(e)||n(!1),e>0||n(!1),t>=$.MIN_TICK&&t<=$.MAX_TICK||n(!1);var r=Math.round(t/e)*e;return r<$.MIN_TICK?r+e:r>$.MAX_TICK?r-e:r}function ft(t,n,r){var i=$.getSqrtRatioAtTick(r),a=e.multiply(i,i);return t.sortsBefore(n)?new Bt(t,n,E,a):new Bt(t,n,a,E)}function ht(t){var e=t.baseCurrency.sortsBefore(t.quoteCurrency),n=e?pt(t.numerator,t.denominator):pt(t.denominator,t.numerator),r=$.getTickAtSqrtRatio(n),i=ft(t.baseCurrency,t.quoteCurrency,r+1);return e?t.lessThan(i)||r++:t.greaterThan(i)||r++,r}var Tt,vt=function(t){var r=t.index,i=t.liquidityGross,a=t.liquidityNet;r>=$.MIN_TICK&&r<=$.MAX_TICK||n(!1),this.index=r,this.liquidityGross=e.BigInt(i),this.liquidityNet=e.BigInt(a)},gt=function(){function t(t,e){var n=t.map((function(t){return t instanceof vt?t:new vt(t)}));nt.validateList(n,e),this.ticks=n}var e=t.prototype;return e.getTick=function(){var t=f(y().mark((function t(e){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",nt.getTick(this.ticks,e));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.nextInitializedTickWithinOneWord=function(){var t=f(y().mark((function t(e,n,r){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",nt.nextInitializedTickWithinOneWord(this.ticks,e,n,r));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}(),t}(),kt=new J,bt=function(){function t(t,r,i,a,o,u,s,p,c){void 0===c&&(c=kt),Number.isInteger(i)&&i<1e6||n(!1);var l=$.getSqrtRatioAtTick(s),d=$.getSqrtRatioAtTick(s+1);e.greaterThanOrEqual(e.BigInt(a),l)&&e.lessThanOrEqual(e.BigInt(a),d)||n(!1);var y=t.sortsBefore(r)?[t,r]:[r,t];this.token0=y[0],this.token1=y[1],this.fee=i,this.sqrtRatioX96=e.BigInt(a),this.deployer=o,this.liquidity=e.BigInt(u),this.tickCurrent=s,this.tickDataProvider=Array.isArray(c)?new gt(c,p):c,this._tickSpacing=p}t.getAddress=function(t,e,n){return U({poolDeployer:B[t.chainId],tokenA:t,tokenB:e,initCodeHashManualOverride:n})};var r=t.prototype;return r.involvesToken=function(t){return t.equals(this.token0)||t.equals(this.token1)},r.priceOf=function(t){return this.involvesToken(t)||n(!1),t.equals(this.token0)?this.token0Price:this.token1Price},r.getOutputAmount=function(){var r=f(y().mark((function r(i,a){var o,u,s,p,c;return y().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.involvesToken(i.currency)||n(!1),o=i.currency.equals(this.token0),r.next=4,this.swap(o,i.quotient,a);case 4:return s=(u=r.sent).sqrtRatioX96,p=u.liquidity,c=u.tickCurrent,r.abrupt("return",[Ft.fromRawAmount(o?this.token1:this.token0,e.multiply(u.amountCalculated,O)),new t(this.token0,this.token1,this.fee,s,this.deployer,p,c,this.tickSpacing,this.tickDataProvider)]);case 11:case"end":return r.stop()}}),r,this)})));return function(t,e){return r.apply(this,arguments)}}(),r.getInputAmount=function(){var r=f(y().mark((function r(i,a){var o,u,s,p,c;return y().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i.currency.isToken&&this.involvesToken(i.currency)||n(!1),o=i.currency.equals(this.token1),r.next=4,this.swap(o,e.multiply(i.quotient,O),a);case 4:return s=(u=r.sent).sqrtRatioX96,p=u.liquidity,c=u.tickCurrent,r.abrupt("return",[Ft.fromRawAmount(o?this.token0:this.token1,u.amountCalculated),new t(this.token0,this.token1,this.fee,s,this.deployer,p,c,this.tickSpacing,this.tickDataProvider)]);case 11:case"end":return r.stop()}}),r,this)})));return function(t,e){return r.apply(this,arguments)}}(),r.swap=function(){var t=f(y().mark((function t(r,i,a){var o,u,s,p,c,l;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a||(a=r?e.add($.MIN_SQRT_RATIO,S):e.subtract($.MAX_SQRT_RATIO,S)),r?(e.greaterThan(a,$.MIN_SQRT_RATIO)||n(!1),e.lessThan(a,this.sqrtRatioX96)||n(!1)):(e.lessThan(a,$.MAX_SQRT_RATIO)||n(!1),e.greaterThan(a,this.sqrtRatioX96)||n(!1)),o=e.greaterThanOrEqual(i,N),u={amountSpecifiedRemaining:i,amountCalculated:N,sqrtPriceX96:this.sqrtRatioX96,tick:this.tickCurrent,liquidity:this.liquidity};case 4:if(!e.notEqual(u.amountSpecifiedRemaining,N)||u.sqrtPriceX96==a){t.next=35;break}return(s={}).sqrtPriceStartX96=u.sqrtPriceX96,t.next=9,this.tickDataProvider.nextInitializedTickWithinOneWord(u.tick,r,this.tickSpacing);case 9:if(s.tickNext=(p=t.sent)[0],s.initialized=p[1],s.tickNext<$.MIN_TICK?s.tickNext=$.MIN_TICK:s.tickNext>$.MAX_TICK&&(s.tickNext=$.MAX_TICK),s.sqrtPriceNextX96=$.getSqrtRatioAtTick(s.tickNext),c=K.computeSwapStep(u.sqrtPriceX96,(r?e.lessThan(s.sqrtPriceNextX96,a):e.greaterThan(s.sqrtPriceNextX96,a))?a:s.sqrtPriceNextX96,u.liquidity,u.amountSpecifiedRemaining,this.fee),u.sqrtPriceX96=c[0],s.amountIn=c[1],s.amountOut=c[2],s.feeAmount=c[3],o?(u.amountSpecifiedRemaining=e.subtract(u.amountSpecifiedRemaining,e.add(s.amountIn,s.feeAmount)),u.amountCalculated=e.subtract(u.amountCalculated,s.amountOut)):(u.amountSpecifiedRemaining=e.add(u.amountSpecifiedRemaining,s.amountOut),u.amountCalculated=e.add(u.amountCalculated,e.add(s.amountIn,s.feeAmount))),!e.equal(u.sqrtPriceX96,s.sqrtPriceNextX96)){t.next=32;break}if(!s.initialized){t.next=29;break}return t.t0=e,t.next=25,this.tickDataProvider.getTick(s.tickNext);case 25:t.t1=t.sent.liquidityNet,l=t.t0.BigInt.call(t.t0,t.t1),r&&(l=e.multiply(l,O)),u.liquidity=L.addDelta(u.liquidity,l);case 29:u.tick=r?s.tickNext-1:s.tickNext,t.next=33;break;case 32:u.sqrtPriceX96!=s.sqrtPriceStartX96&&(u.tick=$.getTickAtSqrtRatio(u.sqrtPriceX96));case 33:t.next=4;break;case 35:return t.abrupt("return",{amountCalculated:u.amountCalculated,sqrtRatioX96:u.sqrtPriceX96,liquidity:u.liquidity,tickCurrent:u.tick});case 36:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}(),T(t,[{key:"token0Price",get:function(){var t;return null!=(t=this._token0Price)?t:this._token0Price=new Bt(this.token0,this.token1,E,e.multiply(this.sqrtRatioX96,this.sqrtRatioX96))}},{key:"token1Price",get:function(){var t;return null!=(t=this._token1Price)?t:this._token1Price=new Bt(this.token1,this.token0,e.multiply(this.sqrtRatioX96,this.sqrtRatioX96),E)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"tickSpacing",get:function(){return this._tickSpacing}}]),t}(),xt=function(){function t(t){var r=t.pool,i=t.liquidity,a=t.tickLower,o=t.tickUpper;this._token0Amount=null,this._token1Amount=null,this._mintAmounts=null,a<o||n(!1),a>=$.MIN_TICK&&a%r.tickSpacing==0||n(!1),o<=$.MAX_TICK&&o%r.tickSpacing==0||n(!1),this.pool=r,this.tickLower=a,this.tickUpper=o,this.liquidity=e.BigInt(i)}t.fromAmounts=function(e){var n=e.pool,r=e.tickLower,i=e.tickUpper,a=e.amount0,o=e.amount1,u=e.useFullPrecision,s=$.getSqrtRatioAtTick(r),p=$.getSqrtRatioAtTick(i);return new t({pool:n,tickLower:r,tickUpper:i,liquidity:yt(n.sqrtRatioX96,s,p,a,o,u)})},t.fromAmount0=function(e){return t.fromAmounts({pool:e.pool,tickLower:e.tickLower,tickUpper:e.tickUpper,amount0:e.amount0,amount1:M,useFullPrecision:e.useFullPrecision})},t.fromAmount1=function(e){return t.fromAmounts({pool:e.pool,tickLower:e.tickLower,tickUpper:e.tickUpper,amount0:M,amount1:e.amount1,useFullPrecision:!0})};var r=t.prototype;return r.mintAmountsWithSlippage=function(e){var n=this.ratiosAfterSlippage(e),r=n.sqrtRatioX96Upper,i=n.sqrtRatioX96Lower,a=new bt(this.pool.token0,this.pool.token1,this.pool.fee,i,this.pool.deployer,0,$.getTickAtSqrtRatio(i),this.pool.tickSpacing),o=new bt(this.pool.token0,this.pool.token1,this.pool.fee,r,this.pool.deployer,0,$.getTickAtSqrtRatio(r),this.pool.tickSpacing),u=t.fromAmounts(v({pool:this.pool,tickLower:this.tickLower,tickUpper:this.tickUpper},this.mintAmounts,{useFullPrecision:!1}));return{amount0:new t({pool:o,liquidity:u.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount0,amount1:new t({pool:a,liquidity:u.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount1}},r.burnAmountsWithSlippage=function(e){var n=this.ratiosAfterSlippage(e),r=n.sqrtRatioX96Upper,i=n.sqrtRatioX96Lower,a=new bt(this.pool.token0,this.pool.token1,this.pool.fee,i,this.pool.deployer,0,$.getTickAtSqrtRatio(i),this.pool.tickSpacing),o=new t({pool:new bt(this.pool.token0,this.pool.token1,this.pool.fee,r,this.pool.deployer,0,$.getTickAtSqrtRatio(r),this.pool.tickSpacing),liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount0,u=new t({pool:a,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount1;return{amount0:o.quotient,amount1:u.quotient}},r.ratiosAfterSlippage=function(t){var n=this.pool.token0Price.asFraction.multiply(new Ht(1).subtract(t)),r=this.pool.token0Price.asFraction.multiply(t.add(1)),i=pt(n.numerator,n.denominator);e.lessThanOrEqual(i,$.MIN_SQRT_RATIO)&&(i=e.add($.MIN_SQRT_RATIO,e.BigInt(1)));var a=pt(r.numerator,r.denominator);return e.greaterThanOrEqual(a,$.MAX_SQRT_RATIO)&&(a=e.subtract($.MAX_SQRT_RATIO,e.BigInt(1))),{sqrtRatioX96Lower:i,sqrtRatioX96Upper:a}},T(t,[{key:"mintAmounts",get:function(){return null===this._mintAmounts?this.pool.tickCurrent<this.tickLower?{amount0:H.getAmount0Delta($.getSqrtRatioAtTick(this.tickLower),$.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:N}:this.pool.tickCurrent<this.tickUpper?{amount0:H.getAmount0Delta(this.pool.sqrtRatioX96,$.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:H.getAmount1Delta($.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!0)}:{amount0:N,amount1:H.getAmount1Delta($.getSqrtRatioAtTick(this.tickLower),$.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0)}:this._mintAmounts}},{key:"token0PriceLower",get:function(){return ft(this.pool.token0,this.pool.token1,this.tickLower)}},{key:"token0PriceUpper",get:function(){return ft(this.pool.token0,this.pool.token1,this.tickUpper)}},{key:"amount0",get:function(){return null===this._token0Amount&&(this._token0Amount=Ft.fromRawAmount(this.pool.token0,this.pool.tickCurrent<this.tickLower?H.getAmount0Delta($.getSqrtRatioAtTick(this.tickLower),$.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1):this.pool.tickCurrent<this.tickUpper?H.getAmount0Delta(this.pool.sqrtRatioX96,$.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1):N)),this._token0Amount}},{key:"amount1",get:function(){return null===this._token1Amount&&(this._token1Amount=Ft.fromRawAmount(this.pool.token1,this.pool.tickCurrent<this.tickLower?N:H.getAmount1Delta($.getSqrtRatioAtTick(this.tickLower),this.pool.tickCurrent<this.tickUpper?this.pool.sqrtRatioX96:$.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1))),this._token1Amount}}]),t}(),At=function(){function t(t,e,r){this._midPrice=null,t.length>0||n(!1);var i=t[0].chainId;t.every((function(t){return t.chainId===i}))||n(!1);var a=e.wrapped;t[0].involvesToken(a)||n(!1),t[t.length-1].involvesToken(r.wrapped)||n(!1);for(var o,u=[a],s=q(t.entries());!(o=s()).done;){var p=o.value,c=p[1],l=u[p[0]];l.equals(c.token0)||l.equals(c.token1)||n(!1);var d=l.equals(c.token0)?c.token1:c.token0;u.push(d)}this.pools=t,this.tokenPath=u,this.input=e,this.output=null!=r?r:u[u.length-1]}return T(t,[{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;var t=this.pools.slice(1).reduce((function(t,e){var n=t.price;return t.nextInput.equals(e.token0)?{nextInput:e.token1,price:n.multiply(e.token0Price)}:{nextInput:e.token0,price:n.multiply(e.token1Price)}}),this.pools[0].token0.equals(this.input.wrapped)?{nextInput:this.pools[0].token1,price:this.pools[0].token0Price}:{nextInput:this.pools[0].token0,price:this.pools[0].token1Price}).price;return this._midPrice=new Bt(this.input,this.output,t.denominator,t.numerator)}},{key:"chainId",get:function(){return this.pools[0].chainId}}]),t}();function wt(t,e,r,i){if(r>0||n(!1),t.length<=r||n(!1),0===t.length)return t.push(e),null;var a=t.length===r;if(a&&i(t[t.length-1],e)<=0)return e;for(var o=0,u=t.length;o<u;){var s=o+u>>>1;i(t[s],e)<=0?o=s+1:u=s}return t.splice(o,0,e),a?t.pop():null}function It(t,e){return t.inputAmount.currency.equals(e.inputAmount.currency)||n(!1),t.outputAmount.currency.equals(e.outputAmount.currency)||n(!1),t.outputAmount.equalTo(e.outputAmount)?t.inputAmount.equalTo(e.inputAmount)?t.swaps.reduce((function(t,e){return t+e.route.tokenPath.length}),0)-e.swaps.reduce((function(t,e){return t+e.route.tokenPath.length}),0):t.inputAmount.lessThan(e.inputAmount)?-1:1:t.outputAmount.lessThan(e.outputAmount)?1:-1}(Tt=exports.TradeType||(exports.TradeType={}))[Tt.EXACT_INPUT=0]="EXACT_INPUT",Tt[Tt.EXACT_OUTPUT=1]="EXACT_OUTPUT";var qt,Rt,Pt,Ot=function(){function t(t){var e=t.routes,r=t.tradeType,i=e[0].inputAmount.currency,a=e[0].outputAmount.currency;e.every((function(t){return i.wrapped.equals(t.route.input.wrapped)}))||n(!1),e.every((function(t){return a.wrapped.equals(t.route.output.wrapped)}))||n(!1);for(var o,u=e.map((function(t){return t.route.pools.length})).reduce((function(t,e){return t+e}),0),s=new Set,p=q(e);!(o=p()).done;)for(var c,l=q(o.value.route.pools);!(c=l()).done;){var d=c.value;s.add(bt.getAddress(d.token0,d.token1))}u!=s.size&&n(!1),this.swaps=e,this.tradeType=r}t.exactIn=function(){var e=f(y().mark((function e(n,r){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.fromRoute(n,r,exports.TradeType.EXACT_INPUT));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.exactOut=function(){var e=f(y().mark((function e(n,r){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.fromRoute(n,r,exports.TradeType.EXACT_OUTPUT));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.fromRoute=function(){var e=f(y().mark((function e(r,i,a){var o,u,s,p,c,l,d;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=new Array(r.tokenPath.length),a!==exports.TradeType.EXACT_INPUT){e.next=19;break}i.currency.equals(r.input)||n(!1),o[0]=i.wrapped,p=0;case 5:if(!(p<r.tokenPath.length-1)){e.next=15;break}return c=r.pools[p],e.next=9,c.getOutputAmount(o[p]);case 9:o[p+1]=e.sent[0];case 12:p++,e.next=5;break;case 15:u=Ft.fromFractionalAmount(r.input,i.numerator,i.denominator),s=Ft.fromFractionalAmount(r.output,o[o.length-1].numerator,o[o.length-1].denominator),e.next=34;break;case 19:i.currency.equals(r.output)||n(!1),o[o.length-1]=i.wrapped,l=r.tokenPath.length-1;case 22:if(!(l>0)){e.next=32;break}return d=r.pools[l-1],e.next=26,d.getInputAmount(o[l]);case 26:o[l-1]=e.sent[0];case 29:l--,e.next=22;break;case 32:u=Ft.fromFractionalAmount(r.input,o[0].numerator,o[0].denominator),s=Ft.fromFractionalAmount(r.output,i.numerator,i.denominator);case 34:return e.abrupt("return",new t({routes:[{inputAmount:u,outputAmount:s,route:r}],tradeType:a}));case 35:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),t.fromRoutes=function(){var e=f(y().mark((function e(r,i){var a,o,u,s,p,c,l,d,m,f,h,T,v;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],o=q(r);case 2:if((u=o()).done){e.next=43;break}if(p=(s=u.value).route,c=s.amount,l=new Array(p.tokenPath.length),d=void 0,m=void 0,i!==exports.TradeType.EXACT_INPUT){e.next=25;break}c.currency.equals(p.input)||n(!1),d=Ft.fromFractionalAmount(p.input,c.numerator,c.denominator),l[0]=Ft.fromFractionalAmount(p.input.wrapped,c.numerator,c.denominator),f=0;case 12:if(!(f<p.tokenPath.length-1)){e.next=22;break}return h=p.pools[f],e.next=16,h.getOutputAmount(l[f]);case 16:l[f+1]=e.sent[0];case 19:f++,e.next=12;break;case 22:m=Ft.fromFractionalAmount(p.output,l[l.length-1].numerator,l[l.length-1].denominator),e.next=40;break;case 25:c.currency.equals(p.output)||n(!1),m=Ft.fromFractionalAmount(p.output,c.numerator,c.denominator),l[l.length-1]=Ft.fromFractionalAmount(p.output.wrapped,c.numerator,c.denominator),T=p.tokenPath.length-1;case 29:if(!(T>0)){e.next=39;break}return v=p.pools[T-1],e.next=33,v.getInputAmount(l[T]);case 33:l[T-1]=e.sent[0];case 36:T--,e.next=29;break;case 39:d=Ft.fromFractionalAmount(p.input,l[0].numerator,l[0].denominator);case 40:a.push({route:p,inputAmount:d,outputAmount:m});case 41:e.next=2;break;case 43:return e.abrupt("return",new t({routes:a,tradeType:i}));case 44:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.createUncheckedTrade=function(e){return new t(v({},e,{routes:[{inputAmount:e.inputAmount,outputAmount:e.outputAmount,route:e.route}]}))},t.createUncheckedTradeWithMultipleRoutes=function(e){return new t(e)},t.bestTradeExactIn=function(){var e=f(y().mark((function e(r,i,a,o,u,s,p){var c,l,d,m,f,h,T,v,g,k,b,x;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d=void 0===(l=(c=void 0===o?{}:o).maxNumResults)?3:l,f=void 0===(m=c.maxHops)?3:m,void 0===u&&(u=[]),void 0===s&&(s=i),void 0===p&&(p=[]),r.length>0||n(!1),f>0||n(!1),i===s||u.length>0||n(!1),h=s.wrapped,T=a.wrapped,v=0;case 10:if(!(v<r.length)){e.next=46;break}if((g=r[v]).token0.equals(h.currency)||g.token1.equals(h.currency)){e.next=14;break}return e.abrupt("continue",43);case 14:return k=void 0,e.prev=15,e.next=18,g.getOutputAmount(h);case 18:k=e.sent[0],e.next=28;break;case 22:if(e.prev=22,e.t0=e.catch(15),!(b=e.t0).isInsufficientInputAmountError){e.next=27;break}return e.abrupt("continue",43);case 27:throw b;case 28:if(!k.currency.isToken||!k.currency.equals(T)){e.next=39;break}return e.t1=wt,e.t2=p,e.next=33,t.fromRoute(new At([].concat(u,[g]),i.currency,a),i,exports.TradeType.EXACT_INPUT);case 33:e.t3=e.sent,e.t4=d,e.t5=It,(0,e.t1)(e.t2,e.t3,e.t4,e.t5),e.next=43;break;case 39:if(!(f>1&&r.length>1)){e.next=43;break}return x=r.slice(0,v).concat(r.slice(v+1,r.length)),e.next=43,t.bestTradeExactIn(x,i,a,{maxNumResults:d,maxHops:f-1},[].concat(u,[g]),k,p);case 43:v++,e.next=10;break;case 46:return e.abrupt("return",p);case 47:case"end":return e.stop()}}),e,null,[[15,22]])})));return function(t,n,r,i,a,o,u){return e.apply(this,arguments)}}(),t.bestTradeExactOut=function(){var e=f(y().mark((function e(r,i,a,o,u,s,p){var c,l,d,m,f,h,T,v,g,k,b,x;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d=void 0===(l=(c=void 0===o?{}:o).maxNumResults)?3:l,f=void 0===(m=c.maxHops)?3:m,void 0===u&&(u=[]),void 0===s&&(s=a),void 0===p&&(p=[]),r.length>0||n(!1),f>0||n(!1),a===s||u.length>0||n(!1),h=s.wrapped,T=i.wrapped,v=0;case 10:if(!(v<r.length)){e.next=46;break}if((g=r[v]).token0.equals(h.currency)||g.token1.equals(h.currency)){e.next=14;break}return e.abrupt("continue",43);case 14:return k=void 0,e.prev=15,e.next=18,g.getInputAmount(h);case 18:k=e.sent[0],e.next=28;break;case 22:if(e.prev=22,e.t0=e.catch(15),!(b=e.t0).isInsufficientReservesError){e.next=27;break}return e.abrupt("continue",43);case 27:throw b;case 28:if(!k.currency.equals(T)){e.next=39;break}return e.t1=wt,e.t2=p,e.next=33,t.fromRoute(new At([g].concat(u),i,a.currency),a,exports.TradeType.EXACT_OUTPUT);case 33:e.t3=e.sent,e.t4=d,e.t5=It,(0,e.t1)(e.t2,e.t3,e.t4,e.t5),e.next=43;break;case 39:if(!(f>1&&r.length>1)){e.next=43;break}return x=r.slice(0,v).concat(r.slice(v+1,r.length)),e.next=43,t.bestTradeExactOut(x,i,a,{maxNumResults:d,maxHops:f-1},[g].concat(u),k,p);case 43:v++,e.next=10;break;case 46:return e.abrupt("return",p);case 47:case"end":return e.stop()}}),e,null,[[15,22]])})));return function(t,n,r,i,a,o,u){return e.apply(this,arguments)}}();var e=t.prototype;return e.minimumAmountOut=function(t,e){if(void 0===e&&(e=this.outputAmount),t.lessThan(N)&&n(!1),this.tradeType===exports.TradeType.EXACT_OUTPUT)return e;var r=new Mt(S).add(t).invert().multiply(e.quotient).quotient;return Ft.fromRawAmount(e.currency,r)},e.maximumAmountIn=function(t,e){if(void 0===e&&(e=this.inputAmount),t.lessThan(N)&&n(!1),this.tradeType===exports.TradeType.EXACT_INPUT)return e;var r=new Mt(S).add(t).multiply(e.quotient).quotient;return Ft.fromRawAmount(e.currency,r)},e.worstExecutionPrice=function(t){return new Bt(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(t).quotient,this.minimumAmountOut(t).quotient)},T(t,[{key:"route",get:function(){return 1!=this.swaps.length&&n(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var t=this.swaps[0].inputAmount.currency,e=this.swaps.map((function(t){return t.inputAmount})).reduce((function(t,e){return t.add(e)}),Ft.fromRawAmount(t,0));return this._inputAmount=e,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var t=this.swaps[0].outputAmount.currency,e=this.swaps.map((function(t){return t.outputAmount})).reduce((function(t,e){return t.add(e)}),Ft.fromRawAmount(t,0));return this._outputAmount=e,this._outputAmount}},{key:"executionPrice",get:function(){var t;return null!=(t=this._executionPrice)?t:this._executionPrice=new Bt(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var t,e=Ft.fromRawAmount(this.outputAmount.currency,0),n=q(this.swaps);!(t=n()).done;){var r=t.value;e=e.add(r.route.midPrice.quote(r.inputAmount))}var i=e.subtract(this.outputAmount).divide(e);return this._priceImpact=new Ht(i.numerator,i.denominator),this._priceImpact}}]),t}();(qt=exports.Rounding||(exports.Rounding={}))[qt.ROUND_DOWN=0]="ROUND_DOWN",qt[qt.ROUND_HALF_UP=1]="ROUND_HALF_UP",qt[qt.ROUND_UP=2]="ROUND_UP";var Nt=c(l),St=c(p),_t=((Rt={})[exports.Rounding.ROUND_DOWN]=Nt.ROUND_DOWN,Rt[exports.Rounding.ROUND_HALF_UP]=Nt.ROUND_HALF_UP,Rt[exports.Rounding.ROUND_UP]=Nt.ROUND_UP,Rt),Et=((Pt={})[exports.Rounding.ROUND_DOWN]=0,Pt[exports.Rounding.ROUND_HALF_UP]=1,Pt[exports.Rounding.ROUND_UP]=3,Pt),Mt=function(){function t(t,n){void 0===n&&(n=e.BigInt(1)),this.numerator=e.BigInt(t),this.denominator=e.BigInt(n)}t.tryParseFraction=function(n){if(n instanceof e||"number"==typeof n||"string"==typeof n)return new t(n);if("numerator"in n&&"denominator"in n)return n;throw new Error("Could not parse fraction")};var r=t.prototype;return r.invert=function(){return new t(this.denominator,this.numerator)},r.add=function(n){var r=t.tryParseFraction(n);return e.equal(this.denominator,r.denominator)?new t(e.add(this.numerator,r.numerator),this.denominator):new t(e.add(e.multiply(this.numerator,r.denominator),e.multiply(r.numerator,this.denominator)),e.multiply(this.denominator,r.denominator))},r.subtract=function(n){var r=t.tryParseFraction(n);return e.equal(this.denominator,r.denominator)?new t(e.subtract(this.numerator,r.numerator),this.denominator):new t(e.subtract(e.multiply(this.numerator,r.denominator),e.multiply(r.numerator,this.denominator)),e.multiply(this.denominator,r.denominator))},r.lessThan=function(n){var r=t.tryParseFraction(n);return e.lessThan(e.multiply(this.numerator,r.denominator),e.multiply(r.numerator,this.denominator))},r.equalTo=function(n){var r=t.tryParseFraction(n);return e.equal(e.multiply(this.numerator,r.denominator),e.multiply(r.numerator,this.denominator))},r.greaterThan=function(n){var r=t.tryParseFraction(n);return e.greaterThan(e.multiply(this.numerator,r.denominator),e.multiply(r.numerator,this.denominator))},r.multiply=function(n){var r=t.tryParseFraction(n);return new t(e.multiply(this.numerator,r.numerator),e.multiply(this.denominator,r.denominator))},r.divide=function(n){var r=t.tryParseFraction(n);return new t(e.multiply(this.numerator,r.denominator),e.multiply(this.denominator,r.numerator))},r.toSignificant=function(t,e,r){void 0===e&&(e={groupSeparator:""}),void 0===r&&(r=exports.Rounding.ROUND_HALF_UP),Number.isInteger(t)||n(!1),t>0||n(!1),Nt.set({precision:t+1,rounding:_t[r]});var i=new Nt(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(t);return i.toFormat(i.decimalPlaces(),e)},r.toFixed=function(t,e,r){return void 0===e&&(e={groupSeparator:""}),void 0===r&&(r=exports.Rounding.ROUND_HALF_UP),Number.isInteger(t)||n(!1),t>=0||n(!1),St.DP=t,St.RM=Et[r],new St(this.numerator.toString()).div(this.denominator.toString()).toFormat(t,e)},T(t,[{key:"quotient",get:function(){return e.divide(this.numerator,this.denominator)}},{key:"remainder",get:function(){return new t(e.remainder(this.numerator,this.denominator),this.denominator)}},{key:"asFraction",get:function(){return new t(this.numerator,this.denominator)}}]),t}(),Ct=c(p),Ft=function(t){function r(r,i,a){var o;return o=t.call(this,i,a)||this,e.lessThanOrEqual(o.quotient,M)||n(!1),o.currency=r,o.decimalScale=e.exponentiate(e.BigInt(10),e.BigInt(r.decimals)),o}g(r,t),r.fromRawAmount=function(t,e){return new r(t,e)},r.fromFractionalAmount=function(t,e,n){return new r(t,e,n)};var i=r.prototype;return i.add=function(e){this.currency.equals(e.currency)||n(!1);var i=t.prototype.add.call(this,e);return r.fromFractionalAmount(this.currency,i.numerator,i.denominator)},i.subtract=function(e){this.currency.equals(e.currency)||n(!1);var i=t.prototype.subtract.call(this,e);return r.fromFractionalAmount(this.currency,i.numerator,i.denominator)},i.multiply=function(e){var n=t.prototype.multiply.call(this,e);return r.fromFractionalAmount(this.currency,n.numerator,n.denominator)},i.divide=function(e){var n=t.prototype.divide.call(this,e);return r.fromFractionalAmount(this.currency,n.numerator,n.denominator)},i.toSignificant=function(e,n,r){return void 0===e&&(e=6),void 0===r&&(r=exports.Rounding.ROUND_DOWN),t.prototype.divide.call(this,this.decimalScale).toSignificant(e,n,r)},i.toFixed=function(e,r,i){return void 0===e&&(e=this.currency.decimals),void 0===i&&(i=exports.Rounding.ROUND_DOWN),e<=this.currency.decimals||n(!1),t.prototype.divide.call(this,this.decimalScale).toFixed(e,r,i)},i.toExact=function(t){return void 0===t&&(t={groupSeparator:""}),Ct.DP=this.currency.decimals,new Ct(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(t)},T(r,[{key:"wrapped",get:function(){return this.currency.isToken?this:r.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}}]),r}(Mt),Bt=function(t){function r(){for(var n,r,i,a,o,u=arguments.length,s=new Array(u),p=0;p<u;p++)s[p]=arguments[p];if(4===s.length)r=s[0],i=s[1],a=s[2],o=s[3];else{var c=s[0].quoteAmount.divide(s[0].baseAmount),l=[s[0].baseAmount.currency,s[0].quoteAmount.currency,c.denominator,c.numerator];r=l[0],i=l[1],a=l[2],o=l[3]}return(n=t.call(this,o,a)||this).baseCurrency=r,n.quoteCurrency=i,n.scalar=new Mt(e.exponentiate(e.BigInt(10),e.BigInt(r.decimals)),e.exponentiate(e.BigInt(10),e.BigInt(i.decimals))),n}g(r,t);var i=r.prototype;return i.invert=function(){return new r(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)},i.multiply=function(e){this.quoteCurrency.equals(e.baseCurrency)||n(!1);var i=t.prototype.multiply.call(this,e);return new r(this.baseCurrency,e.quoteCurrency,i.denominator,i.numerator)},i.quote=function(e){e.currency.equals(this.baseCurrency)||n(!1);var r=t.prototype.multiply.call(this,e);return Ft.fromFractionalAmount(this.quoteCurrency,r.numerator,r.denominator)},i.toSignificant=function(t,e,n){return void 0===t&&(t=6),this.adjustedForDecimals.toSignificant(t,e,n)},i.toFixed=function(t,e,n){return void 0===t&&(t=4),this.adjustedForDecimals.toFixed(t,e,n)},T(r,[{key:"adjustedForDecimals",get:function(){return t.prototype.multiply.call(this,this.scalar)}}]),r}(Mt),Dt=function(t,e,r,i){Number.isSafeInteger(t)||n(!1),e>=0&&e<255&&Number.isInteger(e)||n(!1),this.chainId=t,this.decimals=e,this.symbol=r,this.name=i};function Ut(t){try{return i.getAddress(t)}catch(e){throw new Error(t+" is not a valid address.")}}var Lt=function(t){function e(e,n,r,i,a){var o;return(o=t.call(this,e,r,i,a)||this).isNative=!1,o.isToken=!0,o.chainId=e,o.address=Ut(n),o}g(e,t);var r=e.prototype;return r.equals=function(t){return t.isToken&&this.chainId===t.chainId&&this.address===t.address},r.sortsBefore=function(t){return this.chainId!==t.chainId&&n(!1),this.address===t.address&&n(!1),this.address.toLowerCase()<t.address.toLowerCase()},T(e,[{key:"wrapped",get:function(){return this}}]),e}(Dt),Xt=new Mt(e.BigInt(100));function jt(t){return new Ht(t.numerator,t.denominator)}var Wt,Ht=function(t){function n(n,r){var i;return void 0===r&&(r=e.BigInt(1)),(i=t.call(this,n,r)||this).isPercent=!0,i}g(n,t);var r=n.prototype;return r.add=function(e){return jt(t.prototype.add.call(this,e))},r.subtract=function(e){return jt(t.prototype.subtract.call(this,e))},r.multiply=function(e){return jt(t.prototype.multiply.call(this,e))},r.divide=function(e){return jt(t.prototype.divide.call(this,e))},r.toSignificant=function(e,n,r){return void 0===e&&(e=5),t.prototype.multiply.call(this,Xt).toSignificant(e,n,r)},r.toFixed=function(e,n,r){return void 0===e&&(e=2),t.prototype.multiply.call(this,Xt).toFixed(e,n,r)},n}(Mt),Gt=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).isNative=!0,e.isToken=!1,e}return g(e,t),e}(Dt),Kt=((Wt={})[C.Holesky]=new Lt(C.Holesky,"0x94373a4919b3240d86ea41593d5eba789fef3848",18,"WETH","Wrapped ETH"),Wt[C.BerachainTestnet]=new Lt(C.BerachainTestnet,"0x7507c1dc16935b82698e4c63f2746a2fcf994df8",18,"WBERA","Wrapped BERA"),Wt),Qt=function(t){function e(e,n,r){return t.call(this,e,18,n,r)||this}return g(e,t),e.onChain=function(t,n,r){var i;return null!=(i=this._naitveCache[t])?i:this._naitveCache[t]=new e(t,n,r)},e.prototype.equals=function(t){return t.isNative&&t.chainId===this.chainId},T(e,[{key:"wrapped",get:function(){var t=Kt[this.chainId];return t||n(!1),t}}]),e}(Gt);Qt._naitveCache={};var zt=function(t){function e(){return t.apply(this,arguments)||this}return g(e,t),e.onChain=function(t,n,r){var i;return null!=(i=this._cachedNative[t])?i:this._cachedNative[t]=new e(t,n,r)},T(e,[{key:"wrapped",get:function(){return Kt[this.chainId]}}]),e}(Qt);zt._cachedNative={};var Yt=e.exponentiate(e.BigInt(10),e.BigInt(16));function Zt(t,e){return n=t+Math.round(Math.random()*Math.max(0,e-t)),new Promise((function(t){return setTimeout(t,n)}));var n}var Vt=function(t){function e(){var e;return(e=t.call(this,"Cancelled")||this).isCancelledError=!0,e}return g(e,t),e}(w(Error)),$t=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).isRetryableError=!0,e}return g(e,t),e}(w(Error));function Jt(t,n,r){var i;if(t&&n&&r&&r.match(/^\d*\.?\d+$/)){var a=r.split("."),o=a[0],u=a[1],s=null!=(i=null==u?void 0:u.length)?i:0,p=e.BigInt((null!=o?o:"")+(null!=u?u:""));return new Bt(t,n,e.multiply(e.BigInt(Math.pow(10,s)),e.BigInt(Math.pow(10,t.decimals))),e.multiply(p,e.BigInt(Math.pow(10,n.decimals))))}}var te,ee,ne=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WNativeToken",type:"address"},{internalType:"address",name:"_tokenDescriptor_",type:"address"},{internalType:"address",name:"_poolDeployer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"tickOutOfRange",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Collect",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"DecreaseLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"FarmingFailed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"liquidityDesired",type:"uint128"},{indexed:!1,internalType:"uint128",name:"actualLiquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"},{indexed:!1,internalType:"address",name:"pool",type:"address"}],name:"IncreaseLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"NONFUNGIBLE_POSITION_MANAGER_ADMINISTRATOR_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"WNativeToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount0Owed",type:"uint256"},{internalType:"uint256",name:"amount1Owed",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"algebraMintCallback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bool",name:"approve",type:"bool"},{internalType:"address",name:"farmingAddress",type:"address"}],name:"approveForFarming",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint128",name:"amount0Max",type:"uint128"},{internalType:"uint128",name:"amount1Max",type:"uint128"}],internalType:"struct INonfungiblePositionManager.CollectParams",name:"params",type:"tuple"}],name:"collect",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"address",name:"deployer",type:"address"},{internalType:"uint160",name:"sqrtPriceX96",type:"uint160"}],name:"createAndInitializePoolIfNecessary",outputs:[{internalType:"address",name:"pool",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct INonfungiblePositionManager.DecreaseLiquidityParams",name:"params",type:"tuple"}],name:"decreaseLiquidity",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"farmingApprovals",outputs:[{internalType:"address",name:"farmingCenterAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"farmingCenter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount0Desired",type:"uint256"},{internalType:"uint256",name:"amount1Desired",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct INonfungiblePositionManager.IncreaseLiquidityParams",name:"params",type:"tuple"}],name:"increaseLiquidity",outputs:[{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"isApprovedOrOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"address",name:"deployer",type:"address"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint256",name:"amount0Desired",type:"uint256"},{internalType:"uint256",name:"amount1Desired",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct INonfungiblePositionManager.MintParams",name:"params",type:"tuple"}],name:"mint",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"poolDeployer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"positions",outputs:[{internalType:"uint88",name:"nonce",type:"uint88"},{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"address",name:"deployer",type:"address"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"feeGrowthInside0LastX128",type:"uint256"},{internalType:"uint256",name:"feeGrowthInside1LastX128",type:"uint256"},{internalType:"uint128",name:"tokensOwed0",type:"uint128"},{internalType:"uint128",name:"tokensOwed1",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"refundNativeToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newFarmingCenter",type:"address"}],name:"setFarmingCenter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bool",name:"toActive",type:"bool"}],name:"switchFarmingStatus",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenFarmedIn",outputs:[{internalType:"address",name:"farmingCenterAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWNativeToken",outputs:[],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}],re=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WNativeToken",type:"address"},{internalType:"address",name:"_poolDeployer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WNativeToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"algebraSwapCallback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"}],internalType:"struct ISwapRouter.ExactInputParams",name:"params",type:"tuple"}],name:"exactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"address",name:"deployer",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"uint160",name:"limitSqrtPrice",type:"uint160"}],internalType:"struct ISwapRouter.ExactInputSingleParams",name:"params",type:"tuple"}],name:"exactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"address",name:"deployer",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"uint160",name:"limitSqrtPrice",type:"uint160"}],internalType:"struct ISwapRouter.ExactInputSingleParams",name:"params",type:"tuple"}],name:"exactInputSingleSupportingFeeOnTransferTokens",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"}],internalType:"struct ISwapRouter.ExactOutputParams",name:"params",type:"tuple"}],name:"exactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"address",name:"deployer",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"},{internalType:"uint160",name:"limitSqrtPrice",type:"uint160"}],internalType:"struct ISwapRouter.ExactOutputSingleParams",name:"params",type:"tuple"}],name:"exactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"poolDeployer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"refundNativeToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWNativeToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWNativeTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}],ie=[{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"}];(te=exports.Bound||(exports.Bound={})).LOWER="LOWER",te.UPPER="UPPER",(ee=exports.Field||(exports.Field={})).CURRENCY_A="CURRENCY_A",ee.CURRENCY_B="CURRENCY_B";var ae=function(){function t(){}return t.encodePermit=function(e,n){return"nonce"in n?t.INTERFACE.encodeFunctionData("selfPermitAllowed",[e.address,rt(n.nonce),rt(n.expiry),n.v,n.r,n.s]):t.INTERFACE.encodeFunctionData("selfPermit",[e.address,rt(n.amount),rt(n.deadline),n.v,n.r,n.s])},t}();ae.INTERFACE=new r.Interface(ie);var oe=["expectedCurrencyOwed0","expectedCurrencyOwed1"],ue=rt(e.subtract(e.exponentiate(e.BigInt(2),e.BigInt(128)),e.BigInt(1)));function se(t){return Object.keys(t).some((function(t){return"recipient"===t}))}var pe=function(t){function r(){return t.call(this)||this}return g(r,t),r.createCallParameters=function(t,e){return{calldata:this.encodeCreate(t,e||t.deployer),value:rt(0)}},r.addCallParameters=function(t,i){e.greaterThan(t.liquidity,N)||n(!1);var a=[],o=t.mintAmounts,u=o.amount0,s=o.amount1,p=t.mintAmountsWithSlippage(i.slippageTolerance),c=rt(p.amount0),l=rt(p.amount1),d=rt(i.deadline);if(se(i)&&i.createPool&&a.push(this.encodeCreate(t.pool,i.deployer||t.pool.deployer)),i.token0Permit&&a.push(r.encodePermit(t.pool.token0,i.token0Permit)),i.token1Permit&&a.push(r.encodePermit(t.pool.token1,i.token1Permit)),se(i)){var y=Ut(i.recipient);a.push(r.INTERFACE.encodeFunctionData("mint",[{token0:t.pool.token0.address,token1:t.pool.token1.address,deployer:t.pool.deployer,tickLower:t.tickLower,tickUpper:t.tickUpper,amount0Desired:rt(u),amount1Desired:rt(s),amount0Min:c,amount1Min:l,recipient:y,deadline:d}]))}else a.push(r.INTERFACE.encodeFunctionData("increaseLiquidity",[{tokenId:rt(i.tokenId),amount0Desired:rt(u),amount1Desired:rt(s),amount0Min:c,amount1Min:l,deadline:d}]));var m=rt(0);if(i.useNative){var f=i.useNative.wrapped;t.pool.token0.equals(f)||t.pool.token1.equals(f)||n(!1);var h=t.pool.token0.equals(f)?u:s;e.greaterThan(h,N)&&a.push(r.INTERFACE.encodeFunctionData("refundNativeToken")),m=rt(h)}return{calldata:a,value:m}},r.collectCallParameters=function(t){return{calldata:r.encodeCollect(t),value:rt(0)}},r.removeCallParameters=function(t,i){var a=[],o=rt(i.deadline),u=rt(i.tokenId),s=new xt({pool:t.pool,liquidity:i.liquidityPercentage.multiply(t.liquidity).quotient,tickLower:t.tickLower,tickUpper:t.tickUpper});e.greaterThan(s.liquidity,N)||n(!1);var p=s.burnAmountsWithSlippage(i.slippageTolerance),c=p.amount0,l=p.amount1;i.permit&&a.push(r.INTERFACE.encodeFunctionData("permit",[Ut(i.permit.spender),u,rt(i.permit.deadline),i.permit.v,i.permit.r,i.permit.s])),a.push(r.INTERFACE.encodeFunctionData("decreaseLiquidity",[{tokenId:u,liquidity:rt(s.liquidity),amount0Min:rt(c),amount1Min:rt(l),deadline:o}]));var d=i.collectOptions,y=d.expectedCurrencyOwed0,m=d.expectedCurrencyOwed1,f=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)e.indexOf(n=a[r])>=0||(i[n]=t[n]);return i}(d,oe);return a.push.apply(a,r.encodeCollect(v({tokenId:i.tokenId,expectedCurrencyOwed0:y.add(Ft.fromRawAmount(y.currency,c)),expectedCurrencyOwed1:m.add(Ft.fromRawAmount(m.currency,l))},f))),i.liquidityPercentage.equalTo(S)?i.burnToken&&a.push(r.INTERFACE.encodeFunctionData("burn",[u])):!0===i.burnToken&&n(!1),{calldata:a,value:rt(0)}},r.encodeCreate=function(t,e){return r.INTERFACE.encodeFunctionData("createAndInitializePoolIfNecessary",[t.token0.address,t.token1.address,e,rt(t.sqrtRatioX96)])},r.encodeCollect=function(t){var e=[],n=rt(t.tokenId),i=t.expectedCurrencyOwed0.currency.isNative||t.expectedCurrencyOwed1.currency.isNative,a=Ut(t.recipient);if(e.push(r.INTERFACE.encodeFunctionData("collect",[{tokenId:n,recipient:i?F:a,amount0Max:ue,amount1Max:ue}])),i){var o=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed1.currency:t.expectedCurrencyOwed0.currency,u=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed1.quotient:t.expectedCurrencyOwed0.quotient;e.push(r.INTERFACE.encodeFunctionData("unwrapWNativeToken",[rt(t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed0.quotient:t.expectedCurrencyOwed1.quotient),a])),e.push(r.INTERFACE.encodeFunctionData("sweepToken",[o.address,rt(u),a]))}return e},r}(ae);pe.INTERFACE=new r.Interface(ne);var ce=function(t){function e(){return t.call(this)||this}return g(e,t),e.swapCallParameters=function(t,r){Array.isArray(t)||(t=[t]);var i=t[0],a=i.inputAmount.currency.wrapped,o=i.outputAmount.currency.wrapped;t.every((function(t){return t.inputAmount.currency.wrapped.equals(a)}))||n(!1),t.every((function(t){return t.outputAmount.currency.wrapped.equals(o)}))||n(!1);var u=[],s=Ft.fromRawAmount(t[0].inputAmount.currency,0),p=Ft.fromRawAmount(t[0].outputAmount.currency,0),c=t.reduce((function(t,e){return t.add(e.minimumAmountOut(r.slippageTolerance))}),p),l=i.inputAmount.currency.isNative&&i.tradeType===exports.TradeType.EXACT_OUTPUT,d=i.inputAmount.currency.isNative,y=i.outputAmount.currency.isNative,m=y||!!r.fee,f=d?t.reduce((function(t,e){return t.add(e.maximumAmountIn(r.slippageTolerance))}),s):s;r.inputTokenPermit&&(i.inputAmount.currency.isToken||n(!1),u.push(e.encodePermit(i.inputAmount.currency,r.inputTokenPermit)));for(var h,T=Ut(r.recipient),v=rt(r.deadline),g=q(t);!(h=g()).done;)for(var k,b=h.value,x=q(b.swaps);!(k=x()).done;){var A=k.value,w=A.route,I=A.outputAmount,R=rt(b.maximumAmountIn(r.slippageTolerance,A.inputAmount).quotient),P=rt(b.minimumAmountOut(r.slippageTolerance,I).quotient);if(1===w.pools.length)if(b.tradeType===exports.TradeType.EXACT_INPUT){var O,N={tokenIn:w.tokenPath[0].address,tokenOut:w.tokenPath[1].address,deployer:F,recipient:m?F:T,deadline:v,amountIn:R,amountOutMinimum:P,limitSqrtPrice:rt(null!=(O=r.sqrtPriceLimitX96)?O:0)};u.push(e.INTERFACE.encodeFunctionData(r.feeOnTransfer&&!d?"exactInputSingleSupportingFeeOnTransferTokens":"exactInputSingle",[N]))}else{var S,_={tokenIn:w.tokenPath[0].address,tokenOut:w.tokenPath[1].address,recipient:m?F:T,deployer:F,deadline:v,amountOut:P,amountInMaximum:R,limitSqrtPrice:rt(null!=(S=r.sqrtPriceLimitX96)?S:0)};u.push(e.INTERFACE.encodeFunctionData("exactOutputSingle",[_]))}else{void 0!==r.sqrtPriceLimitX96&&n(!1);var E=it(w,b.tradeType===exports.TradeType.EXACT_OUTPUT);b.tradeType===exports.TradeType.EXACT_INPUT?u.push(e.INTERFACE.encodeFunctionData("exactInput",[{path:E,recipient:m?F:T,deadline:v,amountIn:R,amountOutMinimum:P}])):u.push(e.INTERFACE.encodeFunctionData("exactOutput",[{path:E,recipient:m?F:T,deadline:v,amountOut:P,amountInMaximum:R}]))}}if(m)if(r.fee){var M=Ut(r.fee.recipient),C=rt(r.fee.fee.multiply(1e4).quotient);u.push(y?e.INTERFACE.encodeFunctionData("unwrapWNativeTokenWithFee",[rt(c.quotient),T,C,M]):e.INTERFACE.encodeFunctionData("sweepTokenWithFee",[i.outputAmount.currency.wrapped.address,rt(c.quotient),T,C,M]))}else u.push(e.INTERFACE.encodeFunctionData("unwrapWNativeToken",[rt(c.quotient),T]));return l&&u.push(e.INTERFACE.encodeFunctionData("refundNativeToken")),{calldata:u,value:rt(f.quotient)}},e}(ae);ce.INTERFACE=new r.Interface(re),exports.ADDRESS_ZERO=F,exports.ChainId=C,exports.CurrencyAmount=Ft,exports.DEFAULT_TICK_SPACING=60,exports.ExtendedNative=zt,exports.Fraction=Mt,exports.FullMath=X,exports.INITIAL_POOL_FEE=100,exports.LiquidityMath=L,exports.MaxUint128=ue,exports.MaxUint256=M,exports.NEGATIVE_ONE=O,exports.Native=Qt,exports.NoTickDataProvider=J,exports.NonfungiblePositionManager=pe,exports.ONE=S,exports.POOL_DEPLOYER_ADDRESSES=B,exports.POOL_INIT_CODE_HASH=D,exports.Percent=Ht,exports.Pool=bt,exports.Position=xt,exports.Price=Bt,exports.Q192=E,exports.Q96=_,exports.RetryableError=$t,exports.Route=At,exports.SelfPermit=ae,exports.SqrtPriceMath=H,exports.SwapRouter=ce,exports.Tick=vt,exports.TickList=nt,exports.TickListDataProvider=gt,exports.TickMath=$,exports.Token=Lt,exports.Trade=Ot,exports.WNATIVE=Kt,exports.ZERO=N,exports.algebraPositionManagerABI=ne,exports.algebraSwapRouterABI=re,exports.computeCustomPoolAddress=function(t){var e=t.tokenA,n=t.tokenB,o=t.customPoolDeployer,u=t.initCodeHashManualOverride,s=t.mainPoolDeployer,p=e.sortsBefore(n)?[e,n]:[n,e];return i.getCreate2Address(null!=s?s:B[e.chainId],a.keccak256(["bytes"],[r.defaultAbiCoder.encode(["address","address","address"],[o,p[0].address,p[1].address])]),null!=u?u:D[e.chainId])},exports.computePoolAddress=U,exports.computePoolAddressZkSync=function(t){var e,n,p,c,l,d=t.poolDeployer,y=t.tokenA,m=t.tokenB,f=t.initCodeHashManualOverride,h=y.sortsBefore(m)?[y,m]:[m,y];return e=null!=d?d:B[y.chainId],n=a.keccak256(["bytes"],[r.defaultAbiCoder.encode(["address","address"],[h[0].address,h[1].address])]),p=null!=f?f:D[y.chainId],c=o.keccak256(s.toUtf8Bytes("zksyncCreate2")),l=o.keccak256(u.concat([c,u.zeroPad(e,32),n,p,"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"])).slice(26),i.getAddress(l)},exports.currencyEquals=function(t,e){return t instanceof Lt&&e instanceof Lt?t.equals(e):!(t instanceof Lt||e instanceof Lt||t!==e)},exports.encodeRouteToPath=it,exports.encodeSqrtRatioX96=pt,exports.getTickToPrice=function(t,e,n){if(t&&e&&"number"==typeof n)return ft(t,e,n)},exports.isSorted=tt,exports.maxAmountSpend=function(t){if(t)return t.currency.isNative?e.greaterThan(t.quotient,Yt)?Ft.fromRawAmount(t.currency,e.subtract(t.quotient,Yt)):Ft.fromRawAmount(t.currency,e.BigInt(0)):t},exports.maxLiquidityForAmounts=yt,exports.mostSignificantBit=Y,exports.nearestUsableTick=mt,exports.parseBalance=function(t,e){return void 0===e&&(e=18),d.parseUnits(t||"0",e)},exports.priceToClosestTick=ht,exports.retry=function(t,e){var n,r=e.n,i=e.minWait,a=e.maxWait,o=!1;return{promise:new Promise(function(){var e=f(y().mark((function e(u,s){var p,c;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s;case 1:return p=void 0,e.prev=3,e.next=6,t();case 6:return p=e.sent,o||(u(p),o=!0),e.abrupt("break",25);case 11:if(e.prev=11,e.t0=e.catch(3),!o){e.next=15;break}return e.abrupt("break",25);case 15:if(c=e.t0,!(r<=0)&&c.isRetryableError){e.next=20;break}return s(c),o=!0,e.abrupt("break",25);case 20:r--;case 21:return e.next=23,Zt(i,a);case 23:e.next=1;break;case 25:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n){return e.apply(this,arguments)}}()),cancel:function(){o||(o=!0,n(new Vt))}}},exports.selfPermitABI=ie,exports.tickToPrice=ft,exports.toHex=rt,exports.tradeComparator=It,exports.tryParseAmount=function(t,n){if(t&&n)try{var r=d.parseUnits(t,null==n?void 0:n.decimals).toString();if("0"!==r)return Ft.fromRawAmount(n,e.BigInt(r))}catch(e){console.debug('Failed to parse input amount: "'+t+'"',e)}},exports.tryParsePrice=Jt,exports.tryParseTick=function(t,n,r,i){if(t&&n&&r&&i){var a=Jt(t,n,r);if(a){var o=pt(a.numerator,a.denominator);return mt(e.greaterThanOrEqual(o,$.MAX_SQRT_RATIO)?$.MAX_TICK:e.lessThanOrEqual(o,$.MIN_SQRT_RATIO)?$.MIN_TICK:ht(a),i)}}},exports.unwrappedToken=function(t){var e,n;return t.isNative?t:t.equals(Kt[t.chainId])?Qt.onChain(t.chainId,null!=(e=t.symbol)?e:"",null!=(n=t.name)?n:""):t};
//# sourceMappingURL=intergral-sdk-hpot.cjs.production.min.js.map
